import{C as n}from"./custom-button.986f1dd4.js";import{n as a}from"./index.ddc79e35.js";import{a as r}from"./index.b025c793.js";const l={name:"social-media-button",components:{CustomButton:n},props:{socialNetworkClass:{default:null},text:{default:null},icon:{default:null}}};var i=function(){var e=this,s=e._self._c;return s("custom-button",{attrs:{"custom-class":e.socialNetworkClass,text:e.text,icon:e.icon},on:{click:function(t){return e.$emit("click")}}})},u=[],c=a(l,i,u,!1,null,"a1e99234",null,null);const m=c.exports,d={name:"login",components:{SocialMediaButton:m,CustomButton:n},data(){return{loggingIn:!1,email:null,password:null,error:""}},methods:{async login(){if(this.loggingIn=!0,this.email==null&&this.password==null){this.loggingIn=!1,this.error="Please enter your email and password";return}if(this.email==null){this.loggingIn=!1,this.error="Please enter your email";return}if(!/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)){this.loggingIn=!1,this.error="Please enter a valid email.";return}if(this.password==null){this.loggingIn=!1,this.error="Please enter your password";return}if(this.email!=="admin@mail.com"||this.password!=="admin"){this.loggingIn=!1,this.error="Your email or password is wrong!";return}await this.dummyLoginProcess()},async getSessionToken(){return(await r.get("https://opentdb.com/api_token.php",{params:{command:"request"}})).data},async dummyLoginProcess(){let o=await this.getSessionToken();if(o.response_code!==0){console.error(o.response_message);return}this.$store.commit("SET_SESSION_TOKEN",o.token),this.loggingIn=!1,this.error=!1,await this.$router.push("easy")}},async beforeCreate(){this.$store.state.sessionToken!=null&&await this.$router.push("easy")}};var f=function(){var e=this,s=e._self._c;return s("div",{staticClass:"h-screen mx-4 flex justify-center items-center"},[s("div",{staticClass:"w-full sm:w-[28rem] px-sm-20 p-10 bg-gray-100 rounded"},[s("h1",{staticClass:"text-center pb-10 text-4xl font-semibold"},[e._v("Sign In With")]),s("div",{staticClass:"flex flex-col sm:flex-row sm:space-x-4 sm:space-y-0 space-y-4 mb-5"},[s("social-media-button",{attrs:{icon:"fa-brands fa-square-facebook","social-network-class":"facebook-button",text:"Facebook"},on:{click:e.dummyLoginProcess}}),s("social-media-button",{attrs:{icon:"fa-brands fa-google","social-network-class":"google-button",text:"Google"},on:{click:e.dummyLoginProcess}})],1),s("label",{staticClass:"mt-2 mb-1 block font-semibold"},[e._v("Email")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],staticClass:"p-2 mb-2 rounded border-2 w-full focus:outline-none focus:ring-0",attrs:{type:"text"},domProps:{value:e.email},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||(e.email=t.target.value)}}}),e._m(0),s("div",{staticClass:"relative"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"p-2 rounded border-2 w-full focus:outline-none focus:ring-0",attrs:{type:"password"},domProps:{value:e.password},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login.apply(null,arguments)},input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("small",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],staticClass:"absolute left-1 top-full text-red-600"},[e._v(e._s(e.error))])]),s("button",{attrs:{disabled:e.loggingIn}}),s("custom-button",{attrs:{text:"Sign In"},on:{click:e.login}})],1)])},p=[function(){var o=this,e=o._self._c;return e("label",{staticClass:"mt-2 mb-1 block font-semibold"},[o._v("Password"),e("a",{staticClass:"underline font-semibold text-gray-400 ml-2"},[e("small",[o._v("Forgot?")])])])}],g=a(d,f,p,!1,null,null,null,null);const v=g.exports;export{v as default};
